# App.tsx æ‹†åˆ†é‡æ„æ–‡æ¡£

## ğŸ“ æ–°çš„æ–‡ä»¶ç»“æ„

```
/
â”œâ”€â”€ App.tsx (é‡æ„å - çº¦200è¡Œï¼Œä»…åŒ…å«çŠ¶æ€ç®¡ç†å’Œè·¯ç”±é€»è¾‘)
â”œâ”€â”€ types/
â”‚   â””â”€â”€ app.types.ts (æ‰€æœ‰TypeScriptç±»å‹å®šä¹‰)
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ defects.ts (ç¼ºé™·ç›¸å…³å·¥å…·å‡½æ•°)
â”‚   â””â”€â”€ steelPlates.ts (é’¢æ¿ç›¸å…³å·¥å…·å‡½æ•°)
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useDeviceDetection.ts (ç§»åŠ¨è®¾å¤‡æ£€æµ‹)
â”‚   â”œâ”€â”€ useTheme.ts (ä¸»é¢˜ç®¡ç†)
â”‚   â”œâ”€â”€ useSteelPlates.ts (é’¢æ¿æ•°æ®åŠ è½½)
â”‚   â””â”€â”€ useDefects.ts (ç¼ºé™·æ•°æ®åŠ è½½)
â””â”€â”€ components/
    â”œâ”€â”€ layout/
    â”‚   â”œâ”€â”€ TitleBar.tsx (æ¡Œé¢ç«¯é¡¶éƒ¨æ ‡é¢˜æ )
    â”‚   â”œâ”€â”€ MobileNavBar.tsx (ç§»åŠ¨ç«¯é¡¶éƒ¨å¯¼èˆªæ )
    â”‚   â”œâ”€â”€ StatusBar.tsx (åº•éƒ¨çŠ¶æ€æ )
    â”‚   â”œâ”€â”€ PlatesPanel.tsx (é’¢æ¿åˆ—è¡¨é¢æ¿)
    â”‚   â””â”€â”€ Sidebar.tsx (å¾…åˆ›å»º - æ¡Œé¢ç«¯ä¾§è¾¹æ )
    â””â”€â”€ pages/
        â”œâ”€â”€ DefectsPage.tsx (å¾…åˆ›å»º - ç¼ºé™·é¡µé¢)
        â”œâ”€â”€ ImagesPage.tsx (å¾…åˆ›å»º - å›¾åƒé¡µé¢)
        â”œâ”€â”€ ReportsPage.tsx (å·²åˆ›å»º - æŠ¥è¡¨é¡µé¢)
        â””â”€â”€ SettingsPage.tsx (å·²åˆ›å»º - è®¾ç½®é¡µé¢)
```

## âœ… å·²å®Œæˆçš„æ‹†åˆ†

### 1. ç±»å‹å®šä¹‰ (`/types/app.types.ts`)
- `Defect` - ç¼ºé™·æ¥å£
- `DetectionRecord` - æ£€æµ‹è®°å½•æ¥å£
- `SteelPlate` - é’¢æ¿æ¥å£
- æ‰€æœ‰ç±»å‹åˆ«åï¼ˆActiveTab, SurfaceFilter, Theme ç­‰ï¼‰

### 2. å·¥å…·å‡½æ•°
- `/utils/defects.ts` - ç¼ºé™·ç±»å‹ã€é¢œè‰²æ˜ å°„ã€éšæœºç¼ºé™·ç”Ÿæˆ
- `/utils/steelPlates.ts` - ç­‰çº§æ–‡æœ¬æ˜ å°„

### 3. è‡ªå®šä¹‰ Hooks
- `useDeviceDetection` - æ£€æµ‹ç§»åŠ¨è®¾å¤‡
- `useTheme` - ä¸»é¢˜ç®¡ç†ï¼ˆè‡ªåŠ¨åº”ç”¨åˆ° document.documentElementï¼‰
- `useSteelPlates` - é’¢æ¿æ•°æ®åŠ è½½å’Œç®¡ç†
- `useDefects` - ç¼ºé™·æ•°æ®åŠ è½½

### 4. å¸ƒå±€ç»„ä»¶
- `TitleBar` - æ¡Œé¢ç«¯é¡¶éƒ¨æ ‡é¢˜æ ï¼ˆçº¦230è¡Œï¼‰
- `MobileNavBar` - ç§»åŠ¨ç«¯å¯¼èˆªæ ï¼ˆçº¦150è¡Œï¼‰
- `StatusBar` - åº•éƒ¨çŠ¶æ€æ ï¼ˆçº¦15è¡Œï¼‰
- `PlatesPanel` - é’¢æ¿åˆ—è¡¨é¢æ¿ï¼ˆçº¦240è¡Œï¼‰

### 5. é¡µé¢ç»„ä»¶
- `SettingsPage` - è®¾ç½®é¡µé¢ï¼ˆçº¦80è¡Œï¼‰
- `ReportsPage` - æŠ¥è¡¨é¡µé¢ï¼ˆçº¦40è¡Œï¼‰

## ğŸ”„ å¾…å®Œæˆçš„æ‹†åˆ†

### 1. Sidebar ç»„ä»¶
æ¡Œé¢ç«¯å·¦ä¾§è¾¹æ ï¼ŒåŒ…å«ï¼š
- å½“å‰é’¢æ¿è¯¦ç»†ä¿¡æ¯å¡ç‰‡
- é’¢æ¿è®°å½•åˆ—è¡¨
- æœç´¢/ç­›é€‰æŒ‰é’®
- ä¸Šä¼ æŒ‰é’®

### 2. DefectsPage ç»„ä»¶
ç¼ºé™·è§†å›¾é¡µé¢ï¼ŒåŒ…å«ï¼š
- ç¼ºé™·ç±»å‹è¿‡æ»¤å·¥å…·æ 
- ç¼ºé™·åˆ—è¡¨/å›¾è¡¨åˆ‡æ¢
- DefectList å’Œ DefectDistributionChart å®¹å™¨

### 3. ImagesPage ç»„ä»¶
å›¾åƒè§†å›¾é¡µé¢ï¼ŒåŒ…å«ï¼š
- å†å²è®°å½•ä¾§è¾¹æ 
- å›¾åƒæ˜¾ç¤ºåŒºåŸŸ
- DetectionResult å’Œ DefectImageView

## ğŸ“Š æ‹†åˆ†æ•ˆæœ

### æ‹†åˆ†å‰
- **App.tsx**: çº¦ 2135 è¡Œ
- éš¾ä»¥ç»´æŠ¤å’Œè°ƒè¯•
- åˆå¹¶å†²çªé¢‘ç¹
- JSX åµŒå¥—è¿‡æ·±

### æ‹†åˆ†å
- **æ–° App.tsx**: çº¦ 200-300 è¡Œï¼ˆä»…çŠ¶æ€ç®¡ç†å’Œè·¯ç”±ï¼‰
- **ç»„ä»¶å¹³å‡å¤§å°**: 50-250 è¡Œ
- **èŒè´£æ¸…æ™°**: æ¯ä¸ªæ–‡ä»¶åªåšä¸€ä»¶äº‹
- **æ˜“äºæµ‹è¯•**: å¯ä»¥å•ç‹¬æµ‹è¯•æ¯ä¸ªç»„ä»¶å’Œ Hook
- **å¯å¤ç”¨**: ç»„ä»¶å¯ä»¥åœ¨å…¶ä»–åœ°æ–¹ä½¿ç”¨

## ğŸ¯ ä¸‹ä¸€æ­¥

1. åˆ›å»º Sidebar ç»„ä»¶
2. åˆ›å»º DefectsPage å’Œ ImagesPage ç»„ä»¶
3. é‡æ„ä¸» App.tsxï¼Œä½¿ç”¨æ‰€æœ‰æ–°ç»„ä»¶
4. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½æ˜¯å¦æ­£å¸¸
5. åˆ é™¤æ—§çš„ App.tsxï¼ˆå¤‡ä»½ï¼‰

## ğŸš€ ä½¿ç”¨æ–¹å¼

æ‰€æœ‰æ–°ç»„ä»¶éƒ½éµå¾ª TypeScript ä¸¥æ ¼ç±»å‹æ£€æŸ¥ï¼Œä½¿ç”¨æ–¹å¼ï¼š

```tsx
import { TitleBar } from './components/layout/TitleBar';
import { useTheme } from './hooks/useTheme';
import type { SteelPlate } from './types/app.types';

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
const { theme, setTheme } = useTheme();
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. æ‰€æœ‰æ–°ç»„ä»¶éƒ½ä¿æŒäº†åŸæœ‰çš„æ ·å¼å’ŒåŠŸèƒ½
2. éµå¾ª Guidelines.md ä¸­çš„ API è°ƒç”¨è§„åˆ™
3. ä½¿ç”¨ Guidelines.md ä¸­å®šä¹‰çš„ç±»å‹ç³»ç»Ÿ
4. ä¿æŒå“åº”å¼è®¾è®¡ï¼ˆæ¡Œé¢ç«¯/ç§»åŠ¨ç«¯ï¼‰
